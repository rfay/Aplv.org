//jQuery Translate plugin and related components

/* 
 * jQuery nodesContainingText plugin 
 * Version: 1.1.2
 * http://code.google.com/p/jquery-translate/
 * Copyright (c) 2009 Balazs Endresz (balazs.endresz@gmail.com)
 * Dual licensed under the MIT and GPL licenses.
 */
(function(b){function a(){}a.prototype={init:function(e,d){this.textArray=[];this.elements=[];this.options=d;this.jquery=e;this.n=-1;if(d.async===true){d.async=2}if(d.not){e=e.not(d.not);e=e.add(e.find("*").not(d.not)).not(b(d.not).find("*"))}else{e=e.add(e.find("*"))}this.jq=e;this.jql=this.jq.length;return this.process()},process:function(){this.n++;var i=this,d=this.options,p="",h=false,g=false,f=this.jq[this.n],k,m,j;if(this.n===this.jql){j=this.jquery.pushStack(this.elements,"nodesContainingText");d.complete.call(j,j,this.textArray);if(d.returnAll===false&&d.walk===false){return this.jquery}return j}if(!f){return this.process()}k=b(f);var n=f.nodeName.toUpperCase(),l=n==="INPUT"&&b.attr(f,"type").toLowerCase();if(({SCRIPT:1,NOSCRIPT:1,STYLE:1,OBJECT:1,IFRAME:1})[n]){return this.process()
}if(typeof d.subject==="string"){p=k.attr(d.subject)}else{if(d.altAndVal&&(n==="IMG"||l==="image")){p=k.attr("alt")}else{if(d.altAndVal&&({text:1,button:1,submit:1})[l]){p=k.val()}else{if(n==="TEXTAREA"){p=k.val()}else{m=f.firstChild;if(d.walk!==true){g=true}else{while(m){if(m.nodeType==1){g=true;break}m=m.nextSibling}}if(!g){p=k.text()}else{if(d.walk!==true){h=true}m=f.firstChild;while(m){if(m.nodeType==3&&m.nodeValue.match(/\S/)!==null){if(m.nodeValue.match(/<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)>/)!==null){if(m.nodeValue.match(/(\S+(?=.*<))|(>(?=.*\S+))/)!==null){h=true;break}}else{h=true;break}}m=m.nextSibling}if(h){p=k.html();p=d.stripScripts?p.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,""):p;this.jq=this.jq.not(k.find("*"))}}}}}}if(!p){return this.process()}this.elements.push(f);this.textArray.push(p);d.each.call(f,this.elements.length-1,f,p);if(d.async){setTimeout(function(){i.process()},d.async);return this.jquery}else{return this.process()}}};var c={not:"",async:false,each:function(){},complete:function(){},comments:false,returnAll:true,walk:true,altAndVal:false,subject:true,stripScripts:true};
b.fn.nodesContainingText=function(d){d=b.extend({},c,b.fn.nodesContainingText.defaults,d);return new a().init(this,d)};b.fn.nodesContainingText.defaults=c})(jQuery);
/* 
 * jQuery Translate plugin 
 * Version: null
 * http://code.google.com/p/jquery-translate/
 * Copyright (c) 2009 Balazs Endresz (balazs.endresz@gmail.com)
 * Dual licensed under the MIT and GPL licenses.
 * This plugin uses the 'Google AJAX Language API' (http://code.google.com/apis/ajaxlanguage/)
 * You can read the terms of use at http://code.google.com/apis/ajaxlanguage/terms.html
 */
(function(c){function p(){}var d=true,g=false,e,u="".replace,w=String,k=Function,t=Object,n,l,f,q={},b,j=[],y,h={from:"",to:"",start:p,error:p,each:p,complete:p,onTimeout:p,timeout:0,stripComments:d,stripWhitespace:d,stripScripts:d,separators:/\.\?\!;:/,limit:1750,walk:d,returnAll:g,replace:d,rebind:d,data:d,setLangAttr:g,subject:d,not:"",altAndVal:d,async:g,toggle:g,fromOriginal:d,parallel:false,trim:true,alwaysReplace:false};function v(B,A){l={};for(var z=0;z<B.length;z++){l[A[z].toUpperCase()]=B[z]}c.translate.GLL=l;s()}function s(){f=c.translate.toLanguageCode;c.each(l,function(A,B){q[B.toUpperCase()]=A
});c.translate.isReady=d;var z;while((z=j.shift())){z()}}function i(B,A){var z={};c.each(B,function(C,D){if(A(D,C)===d){z[C]=D}});return z}function x(A,B,z){return function(){return A.apply(B===d?arguments[0]:B,z||arguments)}}function r(z){return z!==e}function o(A,D,C){var z,E={},B=c.grep(A,r);c.each(D,function(F,G){var H=c.grep(G[0],function(J,I){return r(B[I])&&B[I].constructor===J}).length;if(H===B.length&&H===G[0].length&&(z=d)){c.each(G[1],function(I,J){E[J]=B[I]});return g}});if(!z){throw C}return E}function m(C,B){var z=o(C,c.translate.overload,"jQuery.translate: Invalid arguments"),A=z.options||{};delete z.options;A=c.extend({},h,B,c.extend(A,z));if(A.fromOriginal){A.toggle=d}if(A.toggle){A.data=d}if(A.async===d){A.async=2}if(A.alwaysReplace===true){A.toggle=false;A.fromOriginal=false}return A}function a(){this.extend(c.translate);delete this.defaults;delete this.fn}a.prototype={version:"null",_init:function(B,E){var D=E.separators.source||E.separators,A=this.isString=typeof B==="string",z=0,C;
c.each(["stripComments","stripScripts","stripWhitespace"],function(G,F){var H=c.translate[F];if(E[F]){B=A?H(B):c.map(B,H)}});this.rawSource="<div>"+(A?B:B.join("</div><div>"))+"</div>";this._m3=new RegExp("["+D+"](?![^"+D+"]*["+D+"])");this.options=E;this.from=E.from=f(E.from)||"";this.to=E.to=f(E.to)||"";this.source=B;this.rawTranslation="";this.translation=[];this.i=0;this.stopped=g;this.elements=E.nodes;this._i=-1;this.rawSources=[];while(d){C=this.truncate(this.rawSource.substr(z),E.limit);if(!C){break}this.rawSources.push(C);z+=C.length}this.queue=new Array(this.rawSources.length);this.done=0;E.start.call(this,B,E.from,E.to,E);if(E.timeout){this.timeout=setTimeout(x(E.onTimeout,this,[B,E.from,E.to,E]),E.timeout)}(E.toggle&&E.nodes)?(E.textNodes?this._toggleTextNodes():this._toggle()):this._process()},_process:function(){if(this.stopped){return}var z=this.options,G=this.rawTranslation.length,K,L,I,H;var J=this;while((K=this.rawTranslation.lastIndexOf("</div>",G))>-1){G=K-1;L=this.rawTranslation.substr(0,G+1);
I=L.match(/<div[> ]/gi);H=L.match(/<\/div>/gi);I=I?I.length:0;H=H?H.length:0;if(I!==H+1){continue}var C=c(this.rawTranslation.substr(0,G+7)),E=C.length,D=this.i;if(D===E){break}C.slice(D,E).each(x(function(O,R){if(this.stopped){return g}var N=c(R).html(),Q=z.trim?c.trim(N):N,P=D+O,S=this.source,T=!this.from&&this.detectedSourceLanguage||this.from;this.translation[P]=Q;this.isString?this.translation=Q:S=this.source[P];z.each.call(this,P,Q,S,T,this.to,z);this.i++},this));break}if(this.rawSources.length-1==this._i){this._complete()}var B=x(this._translate,this);if(z.parallel){if(this._i<0){if(!z.parallel){c.each(this.rawSources,B)}else{var F=0,A=this.rawSources.length;function M(){B();if(F++<A){setTimeout(M,z.parallel)}}M()}}}else{B()}},_translate:function(){this._i++;var B=this,z=this._i,A=this.rawSourceSub=this.rawSources[z];if(!A){return}if(y.length<40){c.ajax({url:"https://www.googleapis.com/language/translate/v2",dataType:"jsonp",jsonp:"callback",crossDomain:true,data:c.extend({key:y,target:this.to,q:A},this.from?{source:this.from}:{}),success:function(C){if(C.error){return B.options.error.call(B,C.error,B.rawSourceSub,B.from,B.to,B.options)
}var D=C.data.translations[0].translatedText;B.queue[z]=D||B.rawSourceSub;B.detectedSourceLanguage=C.data.translations[0].detectedSourceLanguage;B._check()}})}else{c.ajax({url:"http://api.microsofttranslator.com/V2/Ajax.svc/Translate",dataType:"jsonp",jsonp:"oncomplete",crossDomain:true,data:{appId:y,from:B.from,to:B.to,contentType:"text/plain",text:A},success:function(D,C){B.queue[z]=D||B.rawSourceSub;B._check()}})}},_check:function(){if(!this.options.parallel){this.rawTranslation+=this.queue[this._i];this._process();return}var z=0;jQuery.each(this.queue,function(B,C){if(C!=e){z=B}else{return false}});if((z>this.done)||(z===this.queue.length-1)){for(var A=0;A<=z;A++){this.rawTranslation+=this.queue[A]}this._process()}this.done=z},_complete:function(){clearTimeout(this.timeout);this.options.complete.call(this,this.translation,this.source,!this.from&&this.detectedSourceLanguage||this.from,this.to,this.options)},stop:function(){if(this.stopped){return this}this.stopped=d;this.options.error.call(this,{message:"stopped"});
return this}};c.translate=function(B,z){if(B==e){return new a()}if(c.isFunction(B)){return c.translate.ready(B,z)}var C=new a();var A=[].slice.call(arguments,0);A.shift();return c.translate.ready(x(C._init,C,[B,m(A,c.translate.defaults)]),g,C)};c.translate.fn=c.translate.prototype=a.prototype;c.translate.fn.extend=c.translate.extend=c.extend;c.translate.extend({_bind:x,_filter:i,_validate:o,_getOpt:m,_defaults:h,defaults:c.extend({},h),capitalize:function(z){return z.charAt(0).toUpperCase()+z.substr(1).toLowerCase()},truncate:function(F,A){var B,I,G,E,D,H,z=encodeURIComponent(F);for(B=0;B<10;B++){try{H=decodeURIComponent(z.substr(0,A-B))}catch(C){continue}if(H){break}}return(!(I=/<(?![^<]*>)/.exec(H)))?((!(G=/>\s*$/.exec(H)))?((E=this._m3.exec(H))?((D=/>(?![^>]*<)/.exec(H))?(E.index>D.index?H.substring(0,E.index+1):H.substring(0,D.index+1)):H.substring(0,E.index+1)):H):H):H.substring(0,I.index)},getLanguages:function(G,F){if(G==e||(F==e&&!G)){return l}var D={},C=typeof G,B=F?c.translate.getLanguages(G):l,H=(C==="object"||C==="function")?G:F;
if(H){if(H.call){D=i(B,H)}else{for(var E=0,A=H.length,z;E<A;E++){z=c.translate.toLanguage(H[E]);if(B[z]!=e){D[z]=B[z]}}}}else{D=i(l,c.translate.isTranslatable)}return D},toLanguage:function(A,C){var B=A.toUpperCase();var z=q[B]||(l[B]?B:e)||q[(c.translate.languageCodeMap[A.toLowerCase()]||"").toUpperCase()];return z==e?e:C==="lowercase"?z.toLowerCase():C==="capitalize"?c.translate.capitalize(z):z},toLanguageCode:function(z){return l[z]||l[c.translate.toLanguage(z)]||c.translate.languageCodeMap[z.toLowerCase()]},same:function(A,z){return A===z||f(A)===f(z)},isTranslatable:function(z){return !!f(z)},languageCodeMap:{pt:"pt-PT","pt-br":"pt-PT",he:"iw",zlm:"ms","zh-hans":"zh-CN","zh-hant":"zh-TW"},isRtl:{ar:d,iw:d,fa:d,ur:d,yi:d},getBranding:function(){if(typeof console!="undefined"){console.log("$.translate.getBranding() IS DEPRECATED! PLEASE REMOVE IT FROM YOUR CODE!")}return c()},load:function(C,z){b=d;y=C;if(y.length<40){var A={data:{languages:[{language:"af",name:"Afrikaans"},{language:"sq",name:"Albanian"},{language:"ar",name:"Arabic"},{language:"be",name:"Belarusian"},{language:"bg",name:"Bulgarian"},{language:"ca",name:"Catalan"},{language:"zh",name:"Chinese (Simplified)"},{language:"zh-TW",name:"Chinese (Traditional)"},{language:"hr",name:"Croatian"},{language:"cs",name:"Czech"},{language:"da",name:"Danish"},{language:"nl",name:"Dutch"},{language:"en",name:"English"},{language:"et",name:"Estonian"},{language:"tl",name:"Filipino"},{language:"fi",name:"Finnish"},{language:"fr",name:"French"},{language:"gl",name:"Galician"},{language:"de",name:"German"},{language:"el",name:"Greek"},{language:"ht",name:"Haitian Creole"},{language:"iw",name:"Hebrew"},{language:"hi",name:"Hindi"},{language:"hu",name:"Hungarian"},{language:"is",name:"Icelandic"},{language:"id",name:"Indonesian"},{language:"ga",name:"Irish"},{language:"it",name:"Italian"},{language:"ja",name:"Japanese"},{language:"ko",name:"Korean"},{language:"lv",name:"Latvian"},{language:"lt",name:"Lithuanian"},{language:"mk",name:"Macedonian"},{language:"ms",name:"Malay"},{language:"mt",name:"Maltese"},{language:"no",name:"Norwegian"},{language:"fa",name:"Persian"},{language:"pl",name:"Polish"},{language:"pt",name:"Portuguese"},{language:"ro",name:"Romanian"},{language:"ru",name:"Russian"},{language:"sr",name:"Serbian"},{language:"sk",name:"Slovak"},{language:"sl",name:"Slovenian"},{language:"es",name:"Spanish"},{language:"sw",name:"Swahili"},{language:"sv",name:"Swedish"},{language:"th",name:"Thai"},{language:"tr",name:"Turkish"},{language:"uk",name:"Ukrainian"},{language:"vi",name:"Vietnamese"},{language:"cy",name:"Welsh"},{language:"yi",name:"Yiddish"}]}};
var D=[],B=[];c.each(A.data.languages,function(E,F){D.push(F.language);B.push(F.name)});v(D,B)}else{c.ajax({url:"http://api.microsofttranslator.com/V2/Ajax.svc/GetLanguagesForTranslate",dataType:"jsonp",jsonp:"oncomplete",crossDomain:true,context:this,data:{appId:y},success:function(F,E){c.ajax({url:"http://api.microsofttranslator.com/V2/Ajax.svc/GetLanguageNames",dataType:"jsonp",jsonp:"oncomplete",crossDomain:true,context:this,data:{appId:y,locale:"en",languageCodes:'["'+F.join('", "')+'"]'},success:function(H,G){v(F,H)}})}})}return c.translate},ready:function(z,B,A){c.translate.isReady?z():j.push(z);if(!b&&!B){c.translate.load()}return A||c.translate},isReady:g,overload:[[[],[]],[[w,w,t],["from","to","options"]],[[w,t],["to","options"]],[[t],["options"]],[[w,w],["from","to"]],[[w],["to"]],[[w,w,k],["from","to","complete"]],[[w,k],["to","complete"]]],stripScripts:x(u,d,[/<script[^>]*>([\s\S]*?)<\/script>/gi,""]),stripWhitespace:x(u,d,[/\s\s+/g," "]),stripComments:x(u,d,[/<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)>/g,""])})
})(jQuery);

(function(g){var f=true,a={text:f,button:f,submit:f},b={SCRIPT:f,NOSCRIPT:f,STYLE:f,OBJECT:f,IFRAME:f},e=g([]);e.length=1;function d(i){while(i&&i.nodeType!=9){i=i.parentNode}return i}function c(j,i){var k=j.css("text-align");j.css("direction",i);if(k==="right"){j.css("text-align","left")}if(k==="left"){j.css("text-align","right")}}function h(j,k){var l=j.nodeName.toUpperCase(),i=l==="INPUT"&&g.attr(j,"type").toLowerCase();k=k||{altAndVal:f,subject:f};return typeof k.subject==="string"?k.subject:k.altAndVal&&(l==="IMG"||i==="image")?"alt":k.altAndVal&&a[i]?"$val":l==="TEXTAREA"?"$val":"$html"}g.translate.fn._toggle=function(){var j=this.options,k=j.to,i;this.elements.each(g.translate._bind(function(l,m){this.i=l;var o=g(m),n=g.translate.getData(o,k,j);if(!n){return !(i=f)}this.translation.push(n);j.each.call(this,l,m,n,this.source[l],this.from,k,j)
},this));!i?this._complete():this._process()};g.translate.extend({_getType:h,each:function(k,m,j,l,q,p,n){e[0]=m;g.translate.setData(e,p,j,q,l,n);g.translate.replace(e,j,p,n);g.translate.setLangAttr(e,p,n)},getData:function(k,m,l){var i=k[0]||k,j=g.data(i,"translation");return j&&j[m]&&j[m][h(i,l)]},setData:function(l,n,q,p,r,i){if(i&&!i.data){return}var j=l[0]||l,m=h(j,i),k=g.data(j,"translation");k=k||g.data(j,"translation",{});(k[p]=k[p]||{})[m]=r;(k[n]=k[n]||{})[m]=q},replace:function(m,u,s,k){if(k&&!k.replace){return}if(k&&typeof k.subject==="string"){return m.attr(k.subject,u)}var l=m[0]||m,q=l.nodeName.toUpperCase(),p=q==="INPUT"&&g.attr(l,"type").toLowerCase(),n=g.translate.isRtl,j=g.data(l,"lang");if(!k.alwaysReplace){if(j===s){return}}if(n[s]!==n[j||k&&k.from]){if(n[s]){c(m,"rtl")}else{if(m.css("direction")==="rtl"){c(m,"ltr")}}}if((!k||k.altAndVal)&&(q==="IMG"||p==="image")){m.attr("alt",u)}else{if(q==="TEXTAREA"||(!k||k.altAndVal)&&a[p]){m.val(u)}else{if(!k||k.rebind){this.doc=this.doc||d(l);
var i=m.find("*").not("script"),r=g(this.doc.createElement("div")).html(u);g.translate.copyEvents(i,r.find("*"));m.html(r.contents())}else{m.html(u)}}}g.data(l,"lang",s)},setLangAttr:function(i,k,j){if(!j||j.setLangAttr){i.attr((!j||j.setLangAttr===f)?"lang":j.setLangAttr,k)}},copyEvents:function(j,i){i.each(function(l,o){var p=j[l];if(!o||!p){return false}if(b[p.nodeName.toUpperCase()]){return f}var k=g.data(p,"events");if(!k){return f}for(var n in k){for(var m in k[n]){g.event.add(o,n,k[n][m],k[n][m].data)}}})}});g.fn.translate=function(j,i,m){var k=g.translate._getOpt(arguments,g.fn.translate.defaults),l=g.extend({},g.translate._defaults,g.fn.translate.defaults,k,{complete:function(o,n){g.translate(function(){var r=g.translate.toLanguageCode(k.from);if(k.fromOriginal){o.each(function(s,t){e[0]=t;var u=g.translate.getData(e,r,k);if(!u){return true}n[s]=u})}var q=k.each;function p(s){return function(){[].unshift.call(arguments,this.elements);s.apply(this,arguments)}}k.nodes=o;k.start=p(k.start);
k.onTimeout=p(k.onTimeout);k.complete=p(k.complete);k.each=function(t){var s=arguments;if(arguments.length!==7){[].splice.call(s,1,0,this.elements[t])}this.each.apply(this,s);q.apply(this,s)};g.translate(n,k)})},each:function(){}});if(this.nodesContainingText){return this.nodesContainingText(l)}k.nodes=this;g.translate(g.map(this,function(n){return g(n).html()||g(n).val()}),k);return this};g.fn.translate.defaults=g.extend({},g.translate._defaults)})(jQuery);

(function(a){var b={tags:["select","option"],filter:a.translate.isTranslatable,label:a.translate.toNativeLanguage||function(d,c){return a.translate.capitalize(c)},includeUnknown:false};a.translate.ui=function(){var g={},f="",d="",c="";if(typeof arguments[0]==="string"){g.tags=a.makeArray(arguments)}else{g=arguments[0]}g=a.extend({},b,a.translate.ui.defaults,g);if(g.tags[2]){d="<"+g.tags[2]+">";c="</"+g.tags[2]+">"}var e=a.translate.getLanguages(g.filter);if(!g.includeUnknown){delete e.UNKNOWN}a.each(e,function(h,i){f+=("<"+g.tags[1]+" value="+i+">"+d+g.label(i,h)+c+"</"+g.tags[1]+">")});return a("<"+g.tags[0]+' class="jq-translate-ui">'+f+"</"+g.tags[0]+">")};a.translate.ui.defaults=a.extend({},b)})(jQuery);

jQuery.translate.fn.progress=function(a,c){if(!this.i){this._pr=0}this._pr+=this.source[this.i].length;var b=100*this._pr/(this.rawSource.length-(11*(this.i+1)));if(a){var d=jQuery(a);if(!this.i&&!d.hasClass("ui-progressbar")){d.progressbar(c)}d.progressbar("option","value",b)}return b};

(function(a){a.translate.extend({toNativeLanguage:function(b){return a.translate.nativeLanguages[b]||a.translate.nativeLanguages[a.translate.toLanguageCode(b)]},nativeLanguages:{af:"Afrikaans",be:"Беларуская",is:"Íslenska",ga:"Gaeilge",mk:"Македонски",ms:"Bahasa Melayu",sw:"Kiswahili",cy:"Cymraeg",yi:"ייִדיש",sq:"Shqipe",ar:"العربية",bg:"Български",ca:"Català",zh:"中文","zh-CN":"简体中文","zh-TW":"繁體中文",hr:"Hrvatski",cs:"Čeština",da:"Dansk",nl:"Nederlands",en:"English",et:"Eesti",tl:"Tagalog",fi:"Suomi",fr:"Français",gl:"Galego",de:"Deutsch",el:"Ελληνικά",iw:"עברית",hi:"हिन्दी",hu:"Magyar",id:"Bahasa Indonesia",it:"Italiano",ja:"日本語",ko:"한국어",lv:"Latviešu",lt:"Lietuvių",mt:"Malti",no:"Norsk",fa:"فارسی",pl:"Polski","pt-PT":"Português",ro:"Român",ru:"Русский",sr:"Српски",sk:"Slovenský",sl:"Slovenski",es:"Español",sv:"Svenska",th:"ไทย",tr:"Türkçe",uk:"Українська",vi:"Tiếng Việt"}})
})(jQuery);